<% html_title(l(:label_charts_menu)) -%>

<% content_for :sidebar do %>
  <%= render 'sidebar' %>
<% end %>

<h2><%= l(:label_burndown_chart) %></h2>

<script type="text/javascript">
document.observe('dom:loaded', function(){
var chart = new Highcharts.Chart({
  chart: {
    renderTo: 'container'
  },
  title: {
    text: '<%= l(:label_burndown_chart) %>'
  },
  legend: {
    layout: 'vertical',
    align: 'right',
    verticalAlign: 'middle',
    borderWidth: 0
  },
  xAxis: {
    title: {
      text: 'Data'
    },
    plotBands: [
      <% @plotBands.each do |pb| %>
        { from: <%= pb[:from] %>, to: <%= pb[:to] %>, label: "<%= pb[:label] %>", color: "<%= pb[:color] %>" },
      <% end %>
    ],
    tickInterval: 24 * 3600 * 1000,
    type: 'datetime'
  },
  yAxis: {
    title: {
        text: 'Hodiny'
    }
  },
series: [
        { name: "Odhadovana doba", data: [
          [ Date.UTC(2014, 03, 25), 45 ],
          [ Date.UTC(2014, 05, 03), 0 ]
          ]},
        { name: "Skutecna doba", data: [
          [ Date.UTC(2014, 03, 28), 45 ],
          [ Date.UTC(2014, 04, 1), 38 ],
          [ Date.UTC(2014, 04, 10), 28 ],
          [ Date.UTC(2014, 04, 15), 18 ]
          ]}
        ]
  });
});
</script>
<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
