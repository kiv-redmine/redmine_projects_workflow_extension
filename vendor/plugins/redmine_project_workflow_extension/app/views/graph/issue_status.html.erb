<% html_title(l(:label_charts_menu)) -%>

<% content_for :sidebar do %>
  <%= render 'sidebar' %>
<% end %>

<h2><%= l(:label_issue_status_chart) %></h2>


<script type="text/javascript">
document.observe('dom:loaded', function(){
var chart = new Highcharts.Chart({
  chart: {
    renderTo: 'container',
    type: 'pie'
  },
  title: {
    text: '<%= l(:label_issue_status_chart) %>'
  },
  tooltip: {
    pointFormat: '<b>{point.percentage:.1f} %</b>'
  },
  plotOptions: {
      pie: {
          allowPointSelect: true,
          cursor: 'pointer',
          dataLabels: {
              enabled: true,
              color: '#000000',
              connectorColor: '#000000',
              format: '<b>{point.name}</b>: {point.percentage:.1f} %'
          }
      }
  },
  series: [{
    data: <%= @rows.html_safe %>
  }]
});
});
</script>
<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
